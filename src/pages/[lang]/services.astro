---
// Import du layout standard
import Layout from "../../layouts/layout.astro";

// R√©cup√©rer le param√®tre de langue depuis l'URL
export function getStaticPaths() {
  return [
    { params: { lang: "fr" } },
    { params: { lang: "en" } },
    { params: { lang: "de" } },
  ];
}

const lang = Astro.params.lang as 'fr' | 'en' | 'de';

// Contenu traduit pour chaque langue
const content = {
  fr: {
    title: "Josselin HANEL - Services et Tarifs",
    description: "D√©couvrez mes services de d√©veloppement web √©co-responsable. Sites performants, durables et sur-mesure.",
    pageTitle: "Services & Tarifs",
    intro: "Je cr√©e des sites web √©co-responsables qui allient performance, durabilit√© et design moderne. Chaque projet est unique, voici comment nous pouvons travailler ensemble.",
    
    // Approches
    approachTitle: "Mon approche √©co-responsable",
    approaches: [
      {
        icon: "üå±",
        title: "Performance optimis√©e",
        desc: "Sites ultra-rapides qui consomment moins d'√©nergie"
      },
      {
        icon: "‚ôªÔ∏è", 
        title: "Code durable",
        desc: "Technologies p√©rennes, maintenance facilit√©e"
      },
      {
        icon: "üì±",
        title: "Design accessible",
        desc: "Interface intuitive sur tous les appareils"
      },
      {
        icon: "üåç",
        title: "Impact minimal",
        desc: "H√©bergement vert et optimisations √©cologiques"
      }
    ],

    // Services
    servicesTitle: "Mes services",
    services: [
      {
        title: "Site de Pr√©sentation",
        price: "√Ä partir de 1500‚Ç¨",
        description: "Site de pr√©sentation optimis√© pour votre activit√©",
        features: [
          "Temps de chargement < 1 seconde",
          "Syst√®me de gestion de contenu possible",
          "Formulaire de contact s√©curis√©",
          "üéÅ H√©bergement GRATUIT √Ä VIE",
          "Maintenance facile √† faible co√ªt"
        ],
        ideal: "Id√©al pour : artisans, professions lib√©rales, PME"
      },
      {
        title: "Site Avanc√© & E-commerce",
        price: "√Ä partir de 3000‚Ç¨",
        description: "Solution compl√®te avec fonctionnalit√©s avanc√©es",
        features: [
          "Architecture logique et √©volutive",
          "Syst√®me de gestion de contenu int√©gr√©",
          "Int√©grations tierces (paiement, analytics...)",
          "Animations et interactions avanc√©es",
          "Accompagnement approfondi"
        ],
        ideal: "Id√©al pour : e-commerce, plateformes, projets complexes"
      },
      {
        title: "Audit & Optimisation",
        price: "√Ä partir de 800‚Ç¨",
        description: "Am√©lioration de votre site existant",
        features: [
          "Audit technique et √©co-responsabilit√©",
          "Optimisation des performances",
          "Am√©lioration du SEO",
          "Corrections d'accessibilit√©",
          "Rapport d√©taill√© et recommandations"
        ],
        ideal: "Id√©al pour : sites existants √† optimiser"
      }
    ],

    // Process
    processTitle: "Comment √ßa marche",
    processSteps: [
      {
        step: "1",
        title: "√âchange initial",
        desc: "Nous discutons de votre projet et de vos besoins"
      },
      {
        step: "2", 
        title: "Proposition sur-mesure",
        desc: "Je vous envoie un devis personnalis√© sous 48h"
      },
      {
        step: "3",
        title: "Conception",
        desc: "Design et d√©veloppement en collaboration √©troite"
      },
      {
        step: "4",
        title: "Livraison & formation",
        desc: "Mise en ligne et formation pour l'autonomie"
      }
    ],

    // CTA
    ctaTitle: "Pr√™t √† d√©marrer votre projet ?",
    ctaDesc: "Parlons de votre projet et voyons comment cr√©er ensemble un site qui vous ressemble.",
    
    // Form
    formTitle: "Parlez-moi de votre projet",
    nameLabel: "Votre nom",
    emailLabel: "Votre email",
    companyLabel: "Votre entreprise (optionnel)",
    projectTypeLabel: "Type de projet",
    projectTypes: {
      showcase: "Site de pr√©sentation",
      ecommerce: "E-commerce", 
      audit: "Audit/Optimisation",
      other: "Autre projet"
    },
    budgetLabel: "Budget envisag√©",
    budgetOptions: {
      small: "1000 - 2500‚Ç¨",
      medium: "2500 - 5000‚Ç¨",
      large: "5000‚Ç¨ et plus",
      flexible: "√Ä discuter"
    },
    messageLabel: "D√©crivez votre projet",
    messagePlaceholder: "Parlez-moi de votre activit√©, vos objectifs, ce que vous aimeriez pour votre site...",
    submitButton: "Demander un devis personnalis√©",
    
    // Mentions
    includesTitle: "Ce qui est toujours inclus",
    includes: [
      "Code source livr√© (vous en √™tes propri√©taire)",
      "Design sur-mesure et responsive",
      "Site ultra-rapide et optimis√©",
      "Bien plac√© sur Google (r√©f√©rencement inclus)",
      "Aide pour l'achat du nom de domaine",
      "Formation √† l'utilisation"
    ],
    
    whyTitle: "Pourquoi choisir un site √©co-responsable ?",
    whyReasons: [
      "3x plus rapide que la moyenne",
      "90% moins d'√©nergie consomm√©e", 
      "Meilleur r√©f√©rencement Google",
      "Experience utilisateur optimale",
      "Co√ªts d'h√©bergement r√©duits",
      "Image de marque responsable"
    ]
  },
  en: {
    title: "Josselin HANEL - Services & Pricing",
    description: "Discover my eco-responsible web development services. High-performance, sustainable and custom websites.",
    pageTitle: "Services & Pricing",
    intro: "I create eco-responsible websites that combine performance, sustainability and modern design. Each project is unique, here's how we can work together.",
    
    // Approaches
    approachTitle: "My eco-responsible approach",
    approaches: [
      {
        icon: "üå±",
        title: "Optimized performance", 
        desc: "Ultra-fast sites that consume less energy"
      },
      {
        icon: "‚ôªÔ∏è",
        title: "Sustainable code",
        desc: "Durable technologies, easier maintenance"
      },
      {
        icon: "üì±", 
        title: "Accessible design",
        desc: "Intuitive interface on all devices"
      },
      {
        icon: "üåç",
        title: "Minimal impact",
        desc: "Green hosting and ecological optimizations"
      }
    ],

    // Services
    servicesTitle: "My services",
    services: [
      {
        title: "Presentation Website",
        price: "From ‚Ç¨1500",
        description: "Presentation site optimized for your business",
        features: [
          "Loading time < 1 second",
          "Content management system possible",
          "Secure contact form",
          "üéÅ FREE LIFETIME hosting",
          "Easy low-cost maintenance"
        ],
        ideal: "Ideal for: craftsmen, freelancers, SMEs"
      },
      {
        title: "Advanced Site & E-commerce",
        price: "From ‚Ç¨3000", 
        description: "Complete solution with advanced features",
        features: [
          "Logical and scalable architecture",
          "Integrated content management system",
          "Third-party integrations (payment, analytics...)",
          "Advanced animations and interactions",
          "In-depth support"
        ],
        ideal: "Ideal for: e-commerce, platforms, complex projects"
      },
      {
        title: "Audit & Optimization",
        price: "From ‚Ç¨800",
        description: "Improvement of your existing site",
        features: [
          "Technical and eco-responsibility audit",
          "Performance optimization", 
          "SEO improvement",
          "Accessibility corrections",
          "Detailed report and recommendations"
        ],
        ideal: "Ideal for: existing sites to optimize"
      }
    ],

    // Process
    processTitle: "How it works",
    processSteps: [
      {
        step: "1",
        title: "Initial discussion",
        desc: "We discuss your project and your needs"
      },
      {
        step: "2",
        title: "Custom proposal", 
        desc: "I send you a personalized quote within 48h"
      },
      {
        step: "3",
        title: "Design",
        desc: "Design and development in close collaboration"
      },
      {
        step: "4",
        title: "Delivery & training",
        desc: "Go live and training for autonomy"
      }
    ],

    // CTA
    ctaTitle: "Ready to start your project?",
    ctaDesc: "Let's talk about your project and see how we can create a site that reflects you.",
    
    // Form
    formTitle: "Tell me about your project",
    nameLabel: "Your name",
    emailLabel: "Your email",
    companyLabel: "Your company (optional)",
    projectTypeLabel: "Project type",
    projectTypes: {
      showcase: "Presentation website",
      ecommerce: "E-commerce",
      audit: "Audit/Optimization", 
      other: "Other project"
    },
    budgetLabel: "Expected budget",
    budgetOptions: {
      small: "‚Ç¨1000 - ‚Ç¨2500",
      medium: "‚Ç¨2500 - ‚Ç¨5000",
      large: "‚Ç¨5000 and more",
      flexible: "To be discussed"
    },
    messageLabel: "Describe your project",
    messagePlaceholder: "Tell me about your business, your goals, what you'd like for your site...",
    submitButton: "Request a personalized quote",
    
    // Mentions
    includesTitle: "What's always included",
    includes: [
      "Source code delivered (you own it)",
      "Custom responsive design",
      "Ultra-fast and optimized site",
      "Well ranked on Google (SEO included)",
      "Help with domain name purchase",
      "Usage training"
    ],
    
    whyTitle: "Why choose an eco-responsible site?",
    whyReasons: [
      "3x faster than average",
      "90% less energy consumed",
      "Better Google ranking",
      "Optimal user experience", 
      "Reduced hosting costs",
      "Responsible brand image"
    ]
  },
  de: {
    title: "Josselin HANEL - Leistungen & Preise",
    description: "Entdecken Sie meine umweltverantwortlichen Webentwicklungsdienste. Leistungsstarke, nachhaltige und ma√ügeschneiderte Websites.",
    pageTitle: "Leistungen & Preise",
    intro: "Ich erstelle umweltverantwortliche Websites, die Leistung, Nachhaltigkeit und modernes Design verbinden. Jedes Projekt ist einzigartig, so k√∂nnen wir zusammenarbeiten.",
    
    // Approaches
    approachTitle: "Mein umweltverantwortlicher Ansatz",
    approaches: [
      {
        icon: "üå±",
        title: "Optimierte Leistung",
        desc: "Ultraschnelle Sites, die weniger Energie verbrauchen"
      },
      {
        icon: "‚ôªÔ∏è",
        title: "Nachhaltiger Code", 
        desc: "Dauerhafte Technologien, erleichterte Wartung"
      },
      {
        icon: "üì±",
        title: "Zug√§ngliches Design",
        desc: "Intuitive Benutzeroberfl√§che auf allen Ger√§ten"
      },
      {
        icon: "üåç",
        title: "Minimale Auswirkungen",
        desc: "Gr√ºnes Hosting und √∂kologische Optimierungen"
      }
    ],

    // Services
    servicesTitle: "Meine Leistungen",
    services: [
      {
        title: "Pr√§sentationswebsite",
        price: "Ab 1500‚Ç¨",
        description: "Pr√§sentationssite optimiert f√ºr Ihr Unternehmen",
        features: [
          "Ladezeit < 1 Sekunde",
          "Content-Management-System m√∂glich",
          "Sicheres Kontaktformular", 
          "üéÅ KOSTENLOSES LEBENSL√ÑNGLICH Hosting",
          "Einfache kosteng√ºnstige Wartung"
        ],
        ideal: "Ideal f√ºr: Handwerker, Freiberufler, KMU"
      },
      {
        title: "Erweiterte Site & E-Commerce",
        price: "Ab 3000‚Ç¨",
        description: "Komplette L√∂sung mit erweiterten Funktionen",
        features: [
          "Logische und skalierbare Architektur",
          "Integriertes Content-Management-System",
          "Drittanbieter-Integrationen (Zahlung, Analytics...)",
          "Erweiterte Animationen und Interaktionen",
          "Umfassende Betreuung"
        ],
        ideal: "Ideal f√ºr: E-Commerce, Plattformen, komplexe Projekte"
      },
      {
        title: "Audit & Optimierung",
        price: "Ab 800‚Ç¨",
        description: "Verbesserung Ihrer bestehenden Site",
        features: [
          "Technisches und Umweltverantwortungs-Audit",
          "Leistungsoptimierung",
          "SEO-Verbesserung", 
          "Barrierefreiheitskorrekturen",
          "Detaillierter Bericht und Empfehlungen"
        ],
        ideal: "Ideal f√ºr: bestehende Sites zur Optimierung"
      }
    ],

    // Process
    processTitle: "Wie es funktioniert",
    processSteps: [
      {
        step: "1",
        title: "Erste Besprechung",
        desc: "Wir besprechen Ihr Projekt und Ihre Bed√ºrfnisse"
      },
      {
        step: "2",
        title: "Ma√ügeschneiderter Vorschlag",
        desc: "Ich sende Ihnen innerhalb von 48h ein personalisiertes Angebot"
      },
      {
        step: "3", 
        title: "Konzeption",
        desc: "Design und Entwicklung in enger Zusammenarbeit"
      },
      {
        step: "4",
        title: "Lieferung & Schulung",
        desc: "Online-Stellung und Schulung f√ºr Autonomie"
      }
    ],

    // CTA
    ctaTitle: "Bereit, Ihr Projekt zu starten?",
    ctaDesc: "Lassen Sie uns √ºber Ihr Projekt sprechen und sehen, wie wir gemeinsam eine Site erstellen k√∂nnen, die Sie widerspiegelt.",
    
    // Form
    formTitle: "Erz√§hlen Sie mir von Ihrem Projekt",
    nameLabel: "Ihr Name",
    emailLabel: "Ihre E-Mail",
    companyLabel: "Ihr Unternehmen (optional)",
    projectTypeLabel: "Projekttyp",
    projectTypes: {
      showcase: "Pr√§sentationswebsite",
      ecommerce: "E-Commerce",
      audit: "Audit/Optimierung",
      other: "Anderes Projekt"
    },
    budgetLabel: "Erwartetes Budget",
    budgetOptions: {
      small: "1000‚Ç¨ - 2500‚Ç¨",
      medium: "2500‚Ç¨ - 5000‚Ç¨", 
      large: "5000‚Ç¨ und mehr",
      flexible: "Zu besprechen"
    },
    messageLabel: "Beschreiben Sie Ihr Projekt",
    messagePlaceholder: "Erz√§hlen Sie mir von Ihrem Unternehmen, Ihren Zielen, was Sie sich f√ºr Ihre Site w√ºnschen...",
    submitButton: "Personalisiertes Angebot anfordern",
    
    // Mentions
    includesTitle: "Was immer enthalten ist",
    includes: [
      "Quellcode geliefert (Sie besitzen ihn)",
      "Ma√ügeschneidertes responsives Design",
      "Ultraschnelle und optimierte Site",
      "Gut positioniert auf Google (SEO inklusive)",
      "Hilfe beim Domain-Namen-Kauf",
      "Nutzungsschulung"
    ],
    
    whyTitle: "Warum eine umweltverantwortliche Site w√§hlen?",
    whyReasons: [
      "3x schneller als der Durchschnitt",
      "90% weniger Energieverbrauch",
      "Besseres Google-Ranking",
      "Optimale Benutzererfahrung",
      "Reduzierte Hosting-Kosten", 
      "Verantwortliches Markenimage"
    ]
  }
} as const;

// Utiliser la langue demand√©e ou fran√ßais par d√©faut
const t = content[lang] || content.fr;

// D√©terminer si le mode √©co est actif en fonction de l'URL
const { pathname } = Astro.url;
const isEcoMode = pathname.includes("/eco");
---

<Layout
  title={t.title}
  description={t.description}
  lang={lang}
  isEcoMode={isEcoMode}
>
  <div class="container mx-auto px-4 py-8">
    <!-- En-t√™te -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold mb-4">{t.pageTitle}</h1>
      <p class="text-xl text-text-muted max-w-3xl mx-auto">{t.intro}</p>
    </div>

    <!-- Approche √©co-responsable -->
    <section class="mb-16">
      <h2 class="text-2xl font-bold mb-8 text-center text-accent">{t.approachTitle}</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {t.approaches.map((approach) => (
          <div class="text-center p-4">
            <div class="text-4xl mb-3">{approach.icon}</div>
            <h3 class="font-semibold mb-2">{approach.title}</h3>
            <p class="text-sm text-text-muted">{approach.desc}</p>
          </div>
        ))}
      </div>
    </section>

    <!-- Services -->
    <section class="mb-16">
      <h2 class="text-2xl font-bold mb-8 text-center text-accent">{t.servicesTitle}</h2>
      <div class="grid lg:grid-cols-3 gap-8">
        {t.services.map((service) => (
          <div class="bg-secondary bg-opacity-30 p-6 rounded-lg">
            <h3 class="text-xl font-bold mb-2">{service.title}</h3>
            <div class="text-accent font-bold text-lg mb-3">{service.price}</div>
            <p class="text-text-muted mb-4">{service.description}</p>
            <ul class="space-y-2 mb-4">
              {service.features.map((feature) => (
                <li class="flex items-start">
                  <span class="text-accent mr-2">‚úì</span>
                  <span class="text-sm">{feature}</span>
                </li>
              ))}
            </ul>
            <p class="text-xs text-accent italic">{service.ideal}</p>
          </div>
        ))}
      </div>
    </section>

    <!-- Processus -->
    <section class="mb-16">
      <h2 class="text-2xl font-bold mb-8 text-center text-accent">{t.processTitle}</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {t.processSteps.map((step) => (
          <div class="text-center">
            <div class="bg-accent text-primary w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl mx-auto mb-4">
              {step.step}
            </div>
            <h3 class="font-semibold mb-2">{step.title}</h3>
            <p class="text-sm text-text-muted">{step.desc}</p>
          </div>
        ))}
      </div>
    </section>

    <!-- CTA et formulaire -->
    <section class="bg-secondary bg-opacity-20 p-8 rounded-lg mb-16">
      <div class="text-center mb-8">
        <h2 class="text-2xl font-bold mb-4 text-accent">{t.ctaTitle}</h2>
        <p class="text-text-muted">{t.ctaDesc}</p>
      </div>

      <div class="max-w-2xl mx-auto">
        <form
          method="POST"
          action="https://api.web3forms.com/submit"
          class="space-y-6"
        >
          <!-- Configuration Web3Forms -->
          <input type="hidden" name="access_key" value="2dcc3f1b-036f-48a7-987a-cdada0d05ae5" />
          <input type="hidden" name="subject" value="Nouvelle demande de devis - Services" />
          <input type="hidden" name="from_name" value="Portfolio Services" />

          <h3 class="text-xl font-semibold mb-4">{t.formTitle}</h3>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label for="name" class="block mb-1 font-medium">{t.nameLabel} *</label>
              <input
                type="text"
                id="name"
                name="name"
                class="w-full p-3 border border-form bg-primary rounded-md"
                required
              />
            </div>
            <div>
              <label for="email" class="block mb-1 font-medium">{t.emailLabel} *</label>
              <input
                type="email"
                id="email"
                name="email"
                class="w-full p-3 border border-form bg-primary rounded-md"
                required
              />
            </div>
          </div>

          <div>
            <label for="company" class="block mb-1 font-medium">{t.companyLabel}</label>
            <input
              type="text"
              id="company"
              name="company"
              class="w-full p-3 border border-form bg-primary rounded-md"
            />
          </div>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label for="project_type" class="block mb-1 font-medium">{t.projectTypeLabel} *</label>
              <select
                id="project_type"
                name="project_type"
                class="w-full p-3 border border-form bg-primary rounded-md"
                required
              >
                <option value="showcase">{t.projectTypes.showcase}</option>
                <option value="ecommerce">{t.projectTypes.ecommerce}</option>
                <option value="audit">{t.projectTypes.audit}</option>
                <option value="other">{t.projectTypes.other}</option>
              </select>
            </div>
            <div>
              <label for="budget" class="block mb-1 font-medium">{t.budgetLabel}</label>
              <select
                id="budget"
                name="budget"
                class="w-full p-3 border border-form bg-primary rounded-md"
              >
                <option value="small">{t.budgetOptions.small}</option>
                <option value="medium">{t.budgetOptions.medium}</option>
                <option value="large">{t.budgetOptions.large}</option>
                <option value="flexible">{t.budgetOptions.flexible}</option>
              </select>
            </div>
          </div>

          <div>
            <label for="message" class="block mb-1 font-medium">{t.messageLabel} *</label>
            <textarea
              id="message"
              name="message"
              rows="5"
              class="w-full p-3 border border-form bg-primary rounded-md"
              placeholder={t.messagePlaceholder}
              required
            ></textarea>
          </div>

          <!-- Honeypot -->
          <input type="text" name="botcheck" class="hidden" />

          <div class="text-center">
            <button type="submit" class="cta-button text-lg px-8 py-3">
              {t.submitButton}
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Informations compl√©mentaires -->
    <div class="grid lg:grid-cols-2 gap-8">
      <!-- Ce qui est inclus -->
      <div class="bg-secondary bg-opacity-20 p-6 rounded-lg">
        <h3 class="text-xl font-bold mb-4 text-accent">{t.includesTitle}</h3>
        <ul class="space-y-2">
          {t.includes.map((item) => (
            <li class="flex items-start">
              <span class="text-accent mr-2">‚úì</span>
              <span class="text-sm">{item}</span>
            </li>
          ))}
        </ul>
      </div>

      <!-- Pourquoi √©co-responsable -->
      <div class="bg-secondary bg-opacity-20 p-6 rounded-lg">
        <h3 class="text-xl font-bold mb-4 text-accent">{t.whyTitle}</h3>
        <ul class="space-y-2">
          {t.whyReasons.map((reason) => (
            <li class="flex items-start">
              <span class="text-accent mr-2">üå±</span>
              <span class="text-sm">{reason}</span>
            </li>
          ))}
        </ul>
      </div>
    </div>

    <!-- Contact direct -->
    <div class="text-center mt-12 p-6 border border-accent border-opacity-30 rounded-lg">
      <h3 class="text-lg font-semibold mb-2">
        {lang === 'fr' ? 'Vous pr√©f√©rez √©changer directement ?' : 
         lang === 'en' ? 'Prefer to talk directly?' : 
         'M√∂chten Sie lieber direkt sprechen?'}
      </h3>
      <p class="text-text-muted mb-4">
        {lang === 'fr' ? 'Appelez-moi ou envoyez-moi un email pour discuter de votre projet. Le nom de domaine reste √† votre charge (env. 10-15‚Ç¨/an).' : 
         lang === 'en' ? 'Call me or send me an email to discuss your project. Domain name at your expense (approx. ‚Ç¨10-15/year).' : 
         'Rufen Sie mich an oder senden Sie mir eine E-Mail, um Ihr Projekt zu besprechen. Domain-Name auf Ihre Kosten (ca. 10-15‚Ç¨/Jahr).'}
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <p class="text-accent hover:text-accent-hover">
          üìû <span class="select-all">+33 7 81 33 97 68</span>
        </p>
        <p class="text-accent hover:text-accent-hover">
          ‚úâÔ∏è josshanel[at]gmail.com
        </p>
      </div>
    </div>
  </div>
</Layout>